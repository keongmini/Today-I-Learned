## immer

### 불변성 유지

불변성 유지를 위해 전개연산자를 사용한다. 하지만 코드가 복잡해지면 전개연산자를 여러번 사용하기 힘들기 때문에 작업이 번거로워진다. 이때 immer를 사용하면 쉽고 간단하게 동일한 작업을 수행할 수 있다.



▶ immer 사용법

```yarn add immer```
```
import produce from 'immer';
const nextState = produce(originalState, draft => {
	draft.somewhere.deep.inside = 5;
})
```

produce 함수의 첫번째 매개변수는 수정하고 싶은 상태, 두번째 매개변수는 상태를 어떻게 업데이트할지 정의하는 함수이다. 두번째 매개변수로 전달되는 함수 내부에서 원하는 값을 변경할 수 있고 변경이 완료되면 불변성 유지를 하면서 새로운 상태가 생성된다. 



immer 라이브러리의 핵심 : 불변성에 신경 쓰지 않는 것처럼 코드를 작성하되 불변성 제대로 관리하기

immer를 사용한다고 해서 무조건 코드가 간단해지는 것은 아니다. immer 대신 배열이나 객체의 내장함수를 사용하는 게 더 깔끔할 때가 있으니 상황마다 판단해서 사용해야 한다. 

참고. 리액트를 다루는 기술
